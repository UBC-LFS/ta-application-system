{% extends 'ta_app/base.html' %}
{% block content %}

<nav class="margin-top-10" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href={% url 'home:index' %}>Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">Department</li>
  </ol>
</nav>


{% if messages %}
	{% for message in messages %}
		<div>{{ message }}</div>
	{% endfor %}
{% endif %}


<h1>Department</h1>

<ul class="nav">
  <li class="nav-item">
    <a class="nav-link" href="{% url 'department:sessions' %}">Sessions</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'department:jobs' %}">Jobs</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'department:applications' %}">Applications</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'users:index' %}">Users</a>
  </li>
</ul>

<div class="dropdown margin-top-30">
  <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Dropdown button
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="{% url 'department:terms' %}">Terms</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="{% url 'department:courses' %}">Courses</a>
    <a class="dropdown-item" href="{% url 'department:course_codes' %}">Course Codes</a>
    <a class="dropdown-item" href="{% url 'department:course_numbers' %}">Course Numbers</a>
    <a class="dropdown-item" href="{% url 'department:course_sections' %}">Course Sections</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="{% url 'users:roles' %}">Roles</a>
    <a class="dropdown-item" href="{% url 'users:programs' %}">Programs</a>
    <a class="dropdown-item" href="{% url 'users:statuses' %}">Statuses</a>
    <a class="dropdown-item" href="{% url 'users:degrees' %}">Degrees</a>
    <a class="dropdown-item" href="{% url 'users:trainings' %}">Trainings</a>
  </div>
</div>







<h3 class="margin-top-30">Overview</h3>

<h4 class="margin-top-30">Active Sessions</h4>
<table class="table">
  <thead>
    <tr>
      <th>TA Application</th>
      <th>Jobs</th>
      <th>Active</th>
    </tr>
  </thead>
  <tbody>
    {% for session in active_sessions %}
      <tr>
        <td>
          <a href="{% url 'department:show_session' session.slug %}">
            {{ session.year }} {{ session.term.name }} {{ session.title }}
          </a>
        </td>
        <td>{{ session.job_set.count }}</td>
        <td>{{ session.is_active }}</td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="4">No sessions found</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<div class="row margin-top-30">
  <div class="col-3">
    <ul class="list-group">
      <li class="list-group-item">Active Sessions: {{ active_sessions.count }}</li>
      <li class="list-group-item">Inactive Sessions: {{ inactive_sessions.count }}</li>
      <li class="list-group-item">Total Sessions: {{ active_sessions.count|add:inactive_sessions.count }}</li>
    </ul>
  </div>
</div>

<h4 class="margin-top-30">Jobs</h4>

<h4 class="margin-top-30">Courses</h4>

<div class="row">
  <div class="col-3">
    <ul class="list-group">
      <li class="list-group-item">Courses: {{ courses.count }}</li>
    </ul>
  </div>
</div>

{% endblock %}
