{% extends 'ta_app/base.html' %}
{% block content %}

{% include 'administrators/_menu.html' %}

<div class="row">
  <div class="col-md-4">
    {% include 'ta_app/pages/_header.html' with title='Edit Session' %}

    <div class="bg-prompt">
      <div class="prompt p-4 mb-4">
        <h4>{{ session.year }} {{ session.term.name }} ({{ session.term.code }})</h4>
        <p>{{ session.title }}</p>

        <a class="btn btn-sm btn-outline-primary" href="{% url 'administrators:show_session' session_slug=session.slug path=path %}">Session Details</a>
      </div>
    </div>

    <div class="bd-callout bd-callout-warning">
      <h4><i class="fa fa-info-circle" aria-hidden="true"></i> Note</h4>
      <p>When <code>Is archived</code> is <span class="font-weight-bold">True</span>, <code>Is visible</code> is always <span class="font-weight-bold">False</span>.</p>
    </div>

  </div>

  <div class="col-md-8">
    <div class="board">
      <h3>Form</h3>

      <form action="" method="post">
        {% csrf_token %}

        {% for field in form.visible_fields  %}
          <div class="field-wrapper my-4">
            {{ field.label_tag }}
            {% if field.help_text %}
              <div class="help">{{ field.help_text|safe }}</div>
            {% endif %}
            {{ field }}
          </div>
        {% endfor %}

        {% for field in form.hidden_fields %}
          {{ field }}
        {% endfor %}

        <input type="hidden" name="path" value="{{ path }}" />
        
        <a class="btn btn-outline-primary" href="{% url 'administrators:show_session' session_slug=session.slug path=path %}">Cancel</a>
        <input class="btn btn-primary" type="submit" value="Update" />
      </form>
    </div>
  </div>

</div>

{% endblock %}
