{% extends 'ta_app/base.html' %}
{% block content %}

<nav class="margin-top-10" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="{% url 'administrators:index' %}">administrators</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Courses</li>
  </ol>
</nav>


{% if messages %}
	{% for message in messages %}
		<div class="alert alert-info">{{ message }}</div>
	{% endfor %}
{% endif %}

<h1>Courses</h1>

<h5>All Courses</h5>

<table class="table table-sm table-striped" data-toggle="table" data-sortable="true" data-classes="" data-pagination="true" data-search="true">
  <thead>
    <tr>
      <th data-sortable="true">Course</th>
      <th data-sortable="true">Term</th>
      <th data-sortable="true">Name</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for course in courses %}
      <tr>
        <td>
          <a href="{% url 'administrators:show_course' course.slug %}">
            {{ course.code }} {{ course.number }} {{ course.section }}
          </a>
        </td>
        <td>{{ course.term.code }}</td>
        <td>{{ course.name }}</td>
        <td>
          <form action="{% url 'administrators:delete_course' %}" method="post" onsubmit="return confirm('Are you sure to delete {{ course.code }} {{ course.number }} {{ course.section }} - {{ course.name }}?');">
  					{% csrf_token %}
            <input type="hidden" name="course" value="{{ course.id }}">
  					<input class="btn btn-sm btn-danger" type="submit" value="Delete" />
  				</form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>


<h5>Create a course</h5>
<form action="" method="post">
  {% csrf_token %}
  <table>{{ form.as_table }}</table>
  <input value="Create" type="submit" />
</form>

{% endblock %}
