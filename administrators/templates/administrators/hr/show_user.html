{% extends 'ta_app/base.html' %}
{% block content %}

{% include 'administrators/_menu.html' %}
<div class="row">
  <div class="col-md-4">
    {% include 'ta_app/pages/_left_aside.html' with view_name='users' app_name=app_name title='User Details' data=user %}

    <div class="left-aside-btn-groups mb-5">
      {% include 'administrators/hr/_go_back.html' with data=path %}
    </div>

    <div class="col-11 mx-auto">
      <h5>Resume:</h5>
      {% if user.resume_file %}
        <a href="{% url 'students:download_resume' username=user.username filename=user.resume_file %}" target="_blank">
          {{ user.resume_file }}
        </a>
        | {{ user.resume.created_at }}
      {% else %}
        None
      {% endif %}
    </div>

  </div>

  <div class="col-md-8">

    <nav>
      <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <a class="nav-item nav-link active" id="nav-basic-info-tab" data-toggle="tab" href="#nav-basic-info" role="tab" aria-controls="nav-basic-info" aria-selected="true">Basic Information</a>
        <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Profile</a>
      </div>
    </nav>

    <div class="tab-content">
      <div class="tab-pane fade show active" id="nav-basic-info" role="tabpanel" aria-labelledby="nav-basic-info-tab">
        <div class="board col-11 mx-auto">
          <h3>Basic Information</h3>

          {% include 'ta_app/users/_basic_info.html' with data=user student_number_display='True' %}

          <div>
            <h5>
              User ID:
              <span>{{ user.id }}</span>
            </h5>
          </div>
          
          <div>
            <h5>Role:</h5>
            {% for role in user.profile.roles.all %}
              <span class="mr-2">{{ role.name }}</span>
            {% empty %}
              <span>None</span>
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
        <div class="board col-11 mx-auto">
          <h3>Profile</h3>
          {% include 'ta_app/users/_profile.html' with data=user %}

          <div>
            <h6>Is trimmed:</h6>
            <span>{{ user.profile.is_trimmed }}</span>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

{% endblock %}
