{% extends 'ta_app/base.html' %}
{% block content %}
{% load static %}
{% include "instructors/util/_sidebar.html" %}

<div id="content" class="container-fluid">
  <div class="mb-3">
    <img class="ubc-logo d-inline-block" src="{% static 'ta_app/images/UBClogo.jpeg' %}" alt="ubc logo" />
    <div class="d-inline-block ml-3">
      <h3 class="mb-3">Edit Job</h3>
      <a class="btn btn-outline-primary" href="{% url 'instructors:my_jobs' %}">Go back to My Jobs</a>
    </div>
  </div>

  <section class="d-inline-block">
    <div class="text-secondary mb-4">
      Created at {{ job.created_at }} <span class="ml-3 mr-3">|</span>
      Updated at {{ job.updated_at }}
    </div>

    <div>
      <h4>{{ job.session.year }} {{ job.session.term.name }} ({{ job.session.term.code }})</h4>
      <h5 class="text-secondary">
        {{ job.course.code.name }} {{ job.course.number.name }} {{ job.course.section.name }}
      </h5>
    </div>

    <div>
      <span class="font-weight-bold">Intstructors:</span>
      {% for instructor in job.instructors.all %}
        {{ instructor.username }},
      {% empty %}
        No instructors
      {% endfor %}
    </div>

    <div class="bd-callout bd-callout-warning">
      <h5>Checkpoint!</h5>
      <p>Text area</p>
    </div>

    <form action="" method="post">
      {% csrf_token %}

      {% for field in form.visible_fields %}
        <div class="field-wrapper my-5">
          {{ field.label_tag }}
          {% if field.help_text %}
            <div class="help">{{ field.help_text|safe }}</div>
          {% endif %}
          {{ field }}
        </div>
      {% endfor %}

      {% for field in form.hidden_fields %}
        {{ field }}
      {% endfor %}

      <input class="btn btn-warning" type="submit" value="Update Job" />
      <a class="btn btn-outline-primary" href="{% url 'instructors:my_jobs' %}">Go back to My Jobs</a>
    </form>
  </section>

  <div class="mt-5">
    <h5 class="text-info">Recent Job Details</h5>
    <ol class="text-secondary">
      {% for job in jobs %}
        <li>
          {{ job.session.year }} {{ job.session.term.code }} - {{ job.course.code.name }} {{ job.course.number.name }} {{ job.course.section.name }}
          {% include 'administrators/util/_modal_job_details.html' with data=job %}
        </li>
      {% empty %}
        <li>No recent job details found</li>
      {% endfor %}
    </ol>
  </div>

</div>


{% endblock %}
